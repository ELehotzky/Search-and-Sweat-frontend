{"ast":null,"code":"import * as types from \"./actionTypes\";\nimport sessionApi from \"../api/sessionApi\";\nexport function loginSuccess() {\n  return {\n    type: types.LOG_IN_SUCCESS\n  };\n}\nexport function logInAdmin(credentials) {\n  return function (dispatch) {\n    return sessionApi.login(credentials).then(function (resp) {\n      console.log(\"hello\", resp);\n      localStorage.setItem('token', resp.jwt);\n      admin.setItem(\"admin\", resp); // sessionStorage.setItem(\"jwt\", resp.jwt);\n\n      dispatch(loginSuccess());\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n}","map":{"version":3,"sources":["/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/src/actions/sessionActions.js"],"names":["types","sessionApi","loginSuccess","type","LOG_IN_SUCCESS","logInAdmin","credentials","dispatch","login","then","resp","console","log","localStorage","setItem","jwt","admin","catch","error"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,eAAvB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,OAAO,SAASC,YAAT,GAAwB;AAC9B,SAAO;AAACC,IAAAA,IAAI,EAAEH,KAAK,CAACI;AAAb,GAAP;AACA;AAED,OAAO,SAASC,UAAT,CAAoBC,WAApB,EAAiC;AACvC,SAAO,UAASC,QAAT,EAAmB;AACzB,WAAON,UAAU,CAACO,KAAX,CAAiBF,WAAjB,EAA8BG,IAA9B,CAAmC,UAAAC,IAAI,EAAI;AACjDC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,GAAnC;AACAC,MAAAA,KAAK,CAACF,OAAN,CAAc,OAAd,EAAuBJ,IAAvB,EAHiD,CAIjD;;AACAH,MAAAA,QAAQ,CAACL,YAAY,EAAb,CAAR;AACA,KANM,EAMJe,KANI,CAME,UAAAC,KAAK,EAAI;AACjB,YAAMA,KAAN;AACA,KARM,CAAP;AASA,GAVD;AAWA","sourcesContent":["import * as types from \"./actionTypes\";\nimport sessionApi from \"../api/sessionApi\";\n\nexport function loginSuccess() {\n\treturn {type: types.LOG_IN_SUCCESS}\n}\n\nexport function logInAdmin(credentials) {\n\treturn function(dispatch) {\n\t\treturn sessionApi.login(credentials).then(resp => {\n\t\t\tconsole.log(\"hello\", resp)\n\t\t\tlocalStorage.setItem('token', resp.jwt)\n\t\t\tadmin.setItem(\"admin\", resp)\n\t\t\t// sessionStorage.setItem(\"jwt\", resp.jwt);\n\t\t\tdispatch(loginSuccess())\n\t\t}).catch(error => {\n\t\t\tthrow(error);\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}