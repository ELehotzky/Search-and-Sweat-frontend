{"ast":null,"code":"import _classCallCheck from \"/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/src/containers/App.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport '../App.css';\nimport { BrowserRouter as Router, Route, NavLink } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport Home from \"../components/Home.js\";\nimport Login from \"../components/Login.js\";\nimport About from \"../components/About.js\";\nimport FitnessClasses from \"../components/FitnessClasses.js\";\nimport FitnessClassContainer from \"./FitnessClassContainer.js\";\nimport Contact from \"../components/Contact.js\";\nimport NewClassForm from \"../components/NewClassForm.js\";\nimport * as sessionActions from \"../actions/sessionActions.js\";\nimport { logInToken } from \"../actions/sessionActions.js\";\nimport Footer from \"../components/Footer.js\";\nimport Navbar from \"../components/Navbar.js\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      var token = localStorage.token;\n      console.log(token);\n\n      if (token !== \"undefined\") {\n        fetch(\"http://localhost:3000/api/v1/profile\", {\n          method: \"GET\",\n          headers: {\n            Authorization: \"Bearer \".concat(token)\n          }\n        }).then(function (resp) {\n          return resp.json();\n        }).then(function (data) {\n          if (!data.error) {\n            _this.props.actions.loginSuccess(data);\n          } else {\n            console.log(data.error);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isLoggedIn = this.props.isLoggedIn;\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        component: !!localStorage.token ? NewClassForm : Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/about\",\n        component: About,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/classes\",\n        component: FitnessClassContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/contact\",\n        component: Contact,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/form\",\n        component: !!localStorage.token ? NewClassForm : Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoggedIn: state.isLoggedIn\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(sessionActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/erica/dev/Search-and-Sweat/Search-and-Sweat-frontend/src/containers/App.js"],"names":["React","Component","connect","BrowserRouter","Router","Route","NavLink","bindActionCreators","Home","Login","About","FitnessClasses","FitnessClassContainer","Contact","NewClassForm","sessionActions","logInToken","Footer","Navbar","App","token","localStorage","console","log","fetch","method","headers","Authorization","then","resp","json","data","error","props","actions","loginSuccess","isLoggedIn","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from \"react-redux\";\nimport '../App.css';\nimport {BrowserRouter as Router, Route, NavLink} from \"react-router-dom\";\nimport {bindActionCreators} from \"redux\";\nimport Home from \"../components/Home.js\"\nimport Login from \"../components/Login.js\"\nimport About from \"../components/About.js\"\nimport FitnessClasses from \"../components/FitnessClasses.js\"\nimport FitnessClassContainer from \"./FitnessClassContainer.js\"\nimport Contact from \"../components/Contact.js\"\nimport NewClassForm from \"../components/NewClassForm.js\"\nimport * as sessionActions from \"../actions/sessionActions.js\"\nimport {logInToken} from \"../actions/sessionActions.js\"\nimport Footer from \"../components/Footer.js\"\nimport Navbar from \"../components/Navbar.js\"\n\nclass App extends Component {\n\n  componentDidMount() {\n  const token = localStorage.token;\n  console.log(token)\n   if (token !== \"undefined\"){\n      fetch(\"http://localhost:3000/api/v1/profile\", {\n          method: \"GET\", \n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })\n            .then(resp => resp.json())\n            .then(data => {\n            if (!data.error) {\n              this.props.actions.loginSuccess(data)\n            } else{\n              console.log(data.error)\n            }\n          })}\n}\n\n\n  render() {\n    const isLoggedIn = this.props.isLoggedIn\n    return (\n\n        <Router>\n          <React.Fragment>\n            <Navbar />\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/login\" component={!!localStorage.token ? NewClassForm : Login} />\n            <Route exact path=\"/about\" component={About} />\n            <Route exact path=\"/classes\" component={FitnessClassContainer} />\n            <Route exact path=\"/contact\" component={Contact} />\n            <Route exact path=\"/form\" component={!!localStorage.token ? NewClassForm : Home} />\n            <Footer />\n          </React.Fragment>\n        </Router>\n\n    );\n  }\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoggedIn: (state.isLoggedIn)\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(sessionActions, dispatch)\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}